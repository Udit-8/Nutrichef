# 📋 Meal Planning Visual Journey Map

## Decision Tree Flow Chart

```
                                👤 USER STARTS
                                       |
                                       ▼
                    ┌─────────────────────────────────────────────┐
                    │        📋 MEAL PLANNING JOURNEY              │
                    │      "Create my meal plan"                  │ 
                    └─────────────────────┬───────────────────────┘
                                          │
                                          ▼
                    ┌─────────────────────────────────────────────┐
                    │         ⏱️ STEP 1: PLANNING DURATION         │
                    │    "How long should your meal plan be?"     │
                    └─────────────────────┬───────────────────────┘
                                          │
              ┌───────────┬───────────────┼───────────────┬───────────┐
              ▼           ▼               ▼               ▼           ▼
      ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐
      │1️⃣ 3 DAYS    │ │2️⃣ 1 WEEK     │ │3️⃣ 2 WEEKS   │ │4️⃣ CUSTOM     │
      │Weekend or   │ │Weekly       │ │Bi-weekly    │ │User-defined │
      │short-term   │ │planning     │ │planning     │ │duration     │
      └─────┬───────┘ └─────┬───────┘ └─────┬───────┘ └─────┬───────┘
            │               │               │               │
            └───────────────┼───────────────┼───────────────┘
                            │               │
                            └───────────────┘
                                    │
                                    ▼
                    ┌─────────────────────────────────────────────┐
                    │          🎯 STEP 2: GOAL SELECTION          │
                    │      "What's your main meal goal?"          │
                    └─────────────────────┬───────────────────────┘
                                          │
              ┌───────────┬───────────────┼───────────────┬───────────┐
              ▼           ▼               ▼               ▼           ▼
      ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐
      │1️⃣ WEIGHT     │ │2️⃣ MUSCLE    │ │3️⃣ MAINTAIN  │ │4️⃣ GENERAL   │
      │   LOSS      │ │   GAIN      │ │  CURRENT    │ │  HEALTH     │
      │Calorie      │ │High protein │ │Balanced     │ │Balanced     │
      │deficit      │ │& surplus    │ │nutrition    │ │nutrition    │
      └─────┬───────┘ └─────┬───────┘ └─────┬───────┘ └─────┬───────┘
            │               │               │               │
            └───────────────┼───────────────┼───────────────┘
                            │               │
                            └───────────────┘
                                    │
                                    ▼
                    ┌─────────────────────────────────────────────┐
                    │        🥗 STEP 3: DIETARY PREFERENCES        │
                    │    "Any dietary restrictions or style?"     │
                    └─────────────────────┬───────────────────────┘
                                          │
      ┌─────────┬─────────┬───────────────┼───────────────┬─────────┬─────────┬─────────┐
      ▼         ▼         ▼               ▼               ▼         ▼         ▼         ▼
┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐
│1️⃣ VEGETAR    │ │2️⃣ VEGAN    │  │3️⃣ KETO      │ │4️⃣ PALEO     │ │5️⃣ MEDITERR  │  │6️⃣ NO        │ │✍️ CUSTOM    │
│   IAN 🥕     │ │   🌱        │ │ LOW-CARB🥩  │ │ WHOLE FOOD🥩│ │   ANEAN 🫒  │  │RESTRICTION  | │ALLERGIES    │
│Plant-based  │ │Fully plant  │ │High fat     │ │Unprocessed  │ │Healthy fats │ │Standard diet│ │Specify      │
│with dairy   │ │no animal    │ │minimal carbs│ │natural foods│ │& whole grain│ │all foods    │ │allergens    │
└─────┬───────┘ └─────┬───────┘ └─────┬───────┘ └─────┬───────┘ └─────┬───────┘ └─────┬───────┘ └─────┬───────┘
      │               │               │               │               │               │               │
      └───────────────┼───────────────┼───────────────┼───────────────┼───────────────┼───────────────┘
                      │               │               │               │               │
                      └───────────────┼───────────────┼───────────────┼───────────────┘
                                      │               │               │
                                      └───────────────┼───────────────┘
                                                      │
                                                      ▼
                    ┌─────────────────────────────────────────────────────────────────────────────────────────┐
                    │                      🎉 STEP 4: PERSONALIZED MEAL PLAN                                │
                    │              "Perfect! Here's your customized meal plan"                               │
                    │                                                                                         │
                    │  📅 MEAL SCHEDULE: [Duration] plan with [Goal] focus                                  │
                    │  🍽️ DAILY MEALS: Breakfast, Lunch, Dinner + Snacks                                   │
                    │  📊 NUTRITION: Calories, macros, portions per [Dietary] style                         │
                    │  🛒 SHOPPING: Organized ingredient lists by category                                   │
                    └─────────────────────────────┬───────────────────────────────────────────────────────────┘
                                                  │
                                                  ▼
                                      ┌─────────────────────────┐
                                      │    🎯 NEXT ACTIONS       │
                                      │  "Ready to implement    │
                                      │    your meal plan?"     │
                                      └─────────┬───────────────┘
                                                │
                    ┌─────────┬─────────┬───────┼───────┬─────────┬─────────┐
                    ▼         ▼         ▼       ▼       ▼         ▼         ▼
            ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐
            │🛒 CREATE     │ │👩‍🍳 START     │ │📊 LOG MEALS │ │📋 SAVE       │ │🔄 NEW       │
            │ SHOPPING    │ │  COOKING    │ │  TO DIARY   │ │   PLAN      │ │ JOURNEY     │
            │    LIST     │ │             │ │             │ │             │ │             │
            └─────┬───────┘ └─────┬───────┘ └─────┬───────┘ └─────┬───────┘ └─────┬───────┘
                  │               │               │               │               │
                  ▼               ▼               ▼               ▼               ▼
            ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐
            │🛒 GROCERY   │ │🍳 COOKING   │ │📊 FOOD      │ │💾 SAVED     │ │🏠 MAIN MENU │
            │ ASSISTANCE  │ │ GUIDANCE    │ │ TRACKING    │ │   PLANS     │ │   SELECT    │
            │  JOURNEY    │ │  JOURNEY    │ │  JOURNEY    │ │  LIBRARY    │ │   JOURNEY   │
            └─────────────┘ └─────────────┘ └─────────────┘ └─────────────┘ └─────────────┘
                  │               │               │               │               │
                  ▼               ▼               ▼               ▼               ▼
            ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐
            │ ORGANIZED   │ │INTERACTIVE  │ │ PLANNED     │ │ REUSABLE    │ │ CHOOSE NEW  │
            │SHOPPING LIST│ │STEP-BY-STEP │ │MEALS LOGGED │ │MEAL PLAN    │ │ NUTRITION   │
            │BY CATEGORIES│ │  COOKING    │ │TO TRACKER   │ │TEMPLATES    │ │   JOURNEY   │
            └─────────────┘ └─────────────┘ └─────────────┘ └─────────────┘ └─────────────┘

```

## 🎯 Journey Summary

**Entry Point**: 👤 User says "Plan my meals" or selects Meal Planning

**Step 1**: ⏱️ Duration Selection (3 Days, 1 Week, 2 Weeks, Custom)
**Step 2**: 🎯 Goal Selection (Weight Loss, Muscle Gain, Maintain, General Health)
**Step 3**: 🥗 Dietary Preferences (Vegetarian, Vegan, Keto, Paleo, Mediterranean, No Restrictions, Custom)
**Step 4**: 🎉 Personalized Results (Complete meal plan with schedule and nutrition info)

**Exit Points**: 
- 🛒 Shopping List → Grocery Assistance Journey
- 👩‍🍳 Start Cooking → Cooking Guidance Journey
- 📊 Log Meals → Food Tracking Journey
- 📋 Save Plan → Saved meal plan library
- 🔄 New Journey → Main Menu

**Key Features**:
✅ 4-step progressive meal plan creation
✅ Duration-based planning (3 days to 2+ weeks)
✅ Goal-oriented meal suggestions (weight loss, muscle gain, etc.)
✅ Comprehensive dietary preference support
✅ Complete nutrition information and portion guidance
✅ Seamless transitions to implementation journeys

## Detailed Journey Flow

### 🎯 Entry Points
- **Direct Intent**: "Plan my meals for the week", "Create meal plan", "Help me meal prep"
- **Menu Selection**: Choose "Meal Planning" from main menu
- **Cross-Journey**: From food tracking wanting meal structure

### 📊 Step-by-Step Breakdown

#### **Step 1: Planning Duration** 
```
📋 Meal Planning - Step 1/4

Let's create your personalized meal plan!

Planning Duration:
1️⃣ 3 Days - Weekend or short-term
2️⃣ 1 Week - Weekly planning  
3️⃣ 2 Weeks - Bi-weekly planning
4️⃣ Custom Duration - Specify your own

Perfect for meal prep, special events, or getting started!

How long should your meal plan be? ⏱️
```

**User Options:**
- Number selection (1-4)
- Custom duration input
- Natural language duration

**Data Stored:** `meal_duration`

#### **Step 2: Goal Selection**
```
✅ Duration: [Selected Duration]

📋 Meal Planning - Step 2/4

What's your main goal for this meal plan?

Goals:
1️⃣ Weight Loss - Calorie deficit, portion control
   *Focus on lean proteins, vegetables, controlled portions*

2️⃣ Muscle Gain - High protein, calorie surplus
   *Emphasis on protein-rich foods and post-workout nutrition*

3️⃣ Maintain Current - Balanced nutrition
   *Well-rounded meals for stable weight and energy*

4️⃣ General Health - Balanced, nutritious eating
   *Focus on whole foods, nutrients, and variety*

What's your primary goal? 🎯
```

**User Options:**
- Number selection (1-4)
- Custom goal description
- Multiple goals

**Data Stored:** `meal_goal`

#### **Step 3: Dietary Preferences**
```
🎯 Goal: [Selected Goal]

📋 Meal Planning - Step 3/4

Any dietary restrictions or eating style preferences?

Dietary Styles:
1️⃣ Vegetarian 🥕 - Plant-based with dairy/eggs
2️⃣ Vegan 🌱 - Fully plant-based, no animal products
3️⃣ Keto/Low-Carb 🥩 - High fat, minimal carbs
4️⃣ Paleo 🥩 - Whole foods, unprocessed
5️⃣ Mediterranean 🫒 - Healthy fats, whole grains
6️⃣ No Restrictions ✅ - Standard balanced diet

Allergies/Custom:
✍️ Specify any food allergies or custom requirements

What dietary style works for you? 🥗
```

**User Options:**
- Number selection (1-6)
- Custom dietary restrictions
- Allergy specifications
- Multiple preferences

**Data Stored:** `dietary_preference`

#### **Step 4: Personalized Meal Plan Results**
```
🎉 Perfect! Here's your customized meal plan:

📋 Meal Planning - Step 4/4 (Results)

Your Plan: [Duration] [Goal] [Dietary] Meal Plan

📅 MEAL SCHEDULE:

DAY 1-[Duration]:
🌅 BREAKFAST: Protein-packed overnight oats (320 cal)
   • 1/2 cup oats, Greek yogurt, berries, almonds
   • Prep time: 5 min (night before)

🌞 LUNCH: Mediterranean chicken bowl (420 cal)  
   • Grilled chicken, quinoa, vegetables, olive oil
   • Prep time: 15 min

🌆 DINNER: Lean salmon with roasted vegetables (380 cal)
   • 6oz salmon, broccoli, sweet potato, herbs
   • Prep time: 25 min

🍎 SNACKS: Apple with almond butter (180 cal)

📊 DAILY NUTRITION BREAKDOWN:
• Total Calories: 1,320 (perfect for [Goal])
• Protein: 85g (26% - excellent for muscle)
• Carbs: 145g (44% - sustained energy)  
• Fat: 42g (30% - healthy balance)
• Fiber: 28g (above recommended daily)

🛒 SHOPPING LIST PREVIEW:
Proteins: Chicken breast, salmon, Greek yogurt...
Vegetables: Broccoli, sweet potato, spinach...
Pantry: Quinoa, oats, olive oil, almonds...

Next Steps:
🛒 Get complete shopping list organized by store sections
👩‍🍳 Start cooking your first planned meal  
📊 Log planned meals to your food diary
📋 Save this plan for future use

Ready to implement your plan? 🍽️
Type /start to begin a new journey! 🚀
```

### 🔄 Exit Points & Transitions

#### **Successful Completion**
- **Shopping List** → Grocery Assistance Journey with meal plan ingredients
- **Start Cooking** → Cooking Guidance Journey for specific planned meals
- **Log Meals** → Food Tracking Journey with pre-populated planned meals
- **Save Plan** → Save to personal meal plan library for reuse
- **New Journey** → Main Menu

#### **Cross-Journey Transitions**
1. **To Grocery Assistance**: User wants organized shopping list for meal plan
2. **To Cooking Guidance**: User wants to cook specific planned meals
3. **To Food Tracking**: User wants to log planned meals as they eat them
4. **To Recipe Discovery**: User wants alternatives for planned meals
5. **To Main Menu**: User wants different journey

### 📋 Session Data Persistence
- `meal_duration`: Selected planning timeframe
- `meal_goal`: Primary nutrition/health goal
- `dietary_preference`: Dietary restrictions and preferences
- `generated_meal_plan`: Complete meal plan with all details
- `meal_plan_nutrition`: Calculated nutrition totals
- `shopping_list`: Generated ingredient list
- `current_journey`: "meal_planning"

### 🎯 Key Features
- **Flexible Duration**: 3 days to multiple weeks
- **Goal-Oriented**: Plans tailored to specific health objectives
- **Dietary Accommodation**: Comprehensive support for all eating styles
- **Complete Nutrition**: Detailed macro and micronutrient breakdowns
- **Meal Prep Friendly**: Focus on batch cooking and preparation
- **Shopping Integration**: Automatic ingredient list generation
- **Reusable Plans**: Save successful plans for future use

### 📊 Meal Plan Generation Logic

#### **Duration Scaling**
- **3 Days**: Weekend meal prep, short-term goals
- **1 Week**: Standard weekly planning
- **2 Weeks**: Bi-weekly shopping and prep cycles
- **Custom**: User-specified timeframes

#### **Goal-Based Customization**
- **Weight Loss**: 20% calorie deficit, high protein, controlled portions
- **Muscle Gain**: 10% calorie surplus, 1.2g protein/kg body weight
- **Maintain**: Balanced macros, moderate portions
- **General Health**: Nutrient-dense, varied food choices

#### **Dietary Style Adaptation**
- **Vegetarian**: Plant proteins, dairy, eggs included
- **Vegan**: Plant-based proteins, no animal products
- **Keto**: <20g carbs, 70% fat, moderate protein
- **Paleo**: Whole foods, no grains/legumes/dairy
- **Mediterranean**: Healthy fats, whole grains, fish
- **Standard**: Balanced approach with all food groups

### 🍽️ Meal Structure

#### **Daily Meal Framework**
- **Breakfast**: 20-25% of daily calories, protein focus
- **Lunch**: 30-35% of daily calories, balanced macros
- **Dinner**: 30-35% of daily calories, lighter carbs
- **Snacks**: 10-15% of daily calories, nutrient-dense

#### **Meal Timing Optimization**
- **Pre-workout**: Carbs for energy
- **Post-workout**: Protein for recovery
- **Evening**: Lower carbs, higher protein/fat
- **Spacing**: 3-4 hours between meals

### ⚡ Performance Optimizations
- **Template-Based**: Pre-built meal combinations for quick generation
- **Nutrition Database**: Accurate macro calculations
- **Prep Time Consideration**: Realistic cooking and preparation times
- **Ingredient Overlap**: Minimize shopping list complexity
- **Batch Cooking**: Meals designed for efficient preparation

---

*This journey map represents the complete Meal Planning flow as implemented in the nutrition chatbot, showing all possible user paths and decision points.*